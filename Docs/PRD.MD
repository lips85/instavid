# InstaVid – AI 기반 즉시 비디오 생성 플랫폼 (MVP)

## 1. 제품 개요

### 1.1 제품 이름

**InstaVid** _(즉시 비디오를 생성하는 AI 플랫폼)_

### 1.2 제품 목적

사용자가 주제를 입력하면 AI가 자동으로 **스크립트, 음성, 이미지, 배경음악을 생성 및 조합하여 비디오를 즉시 생성**하는 서비스.

- **즉시 생성(Insta)**: 사용자가 입력한 주제만으로 빠르게 비디오 제작 가능
- **고품질 콘텐츠(Vid)**: AI 기술을 활용한 영상 콘텐츠 자동 생성

### 1.3 해결하려는 문제

- **영상 제작에 필요한 시간과 비용 절감**
- **전문적인 영상 편집 기술 없이도 고품질 비디오 생성**
- **유튜브 쇼츠, 틱톡, 인스타그램 릴스 최적화 콘텐츠 자동 제작**

### 1.4 아키텍처 개요

InstaVid는 **Next.js 기반의 웹 애플리케이션**과 **FastAPI 기반의 개별 AI 서비스 API**를 조합하여 구성한다.

- **웹 프론트엔드**: Next.js를 활용하여 사용자 인터페이스(UI) 및 API 호출 담당
- **백엔드 API (FastAPI 기반)**: 개별 AI 기능을 API로 분리하여 모듈화
  - **스크립트 생성 API**: GPT-4 기반 텍스트 생성
  - **보이스 생성 API**: ElevenLabs API 활용
  - **이미지 생성 API**: 초기에는 FLUX AI 사용, 이후 ComfyUI 기반으로 변경
  - **비디오 합성 API**: MoviePy 기반 비디오 생성
  - **파일 저장 API**: 메인 컴퓨터에 저장 (저장위치 path=D:\code\shorts_output)

---

## 2. MVP에서 제공할 핵심 기능

1. **AI 기반 스크립트 생성** (GPT-4 API)
2. **AI 보이스오버 생성** (ElevenLabs API)
3. **싱크 분석 및 자막 처리** (OpenAI Whisper API)
4. **AI 이미지 생성** (초기: FLUX AI, 이후: ComfyUI)
5. **배경음악 적용**
   - 사용자가 직접 업로드
   - 유튜브 공개 음악 선택 가능
6. **비디오 합성 및 저장** (MoviePy, path= D:\code\shorts_output)
7. **완성된 영상 다운로드**

### 2.1 추후 추가 기능 (MVP 이후 개발)

1. **사용자 인증 (Supabase Auth)**
2. **사용자별 데이터 저장 (Supabase Database)**
3. **SNS 공유 기능 (유튜브/틱톡 업로드 지원)**

---

## 3. 사용자 흐름 (User Flow)

### Step 1: 주제 입력

- 사용자가 비디오 주제를 입력
- 예: _"히말라야에서 발견된 800개의 해골 이야기"_

### Step 2: AI 기반 스크립트 생성

- GPT-4 API를 호출하여 **30초~1분 길이의 스크립트 생성**
- 프론트엔드에서 **스크립트 미리보기 제공**

### Step 3: 보이스오버 생성

- ElevenLabs API를 호출하여 **AI 음성 생성**
- 생성된 오디오 파일을 로컬 저장소(D:\code\shorts_output\audio)에 저장

### Step 4: 싱크 분석 및 자막 생성

- OpenAI Whisper API를 호출하여 **오디오 싱크 분석 및 텍스트 분할**

### Step 5: 이미지 생성

- 각 스크립트 부분을 기반으로 **AI 이미지 프롬프트 생성**
- 초기에는 FLUX AI를 사용하여 **이미지 생성**
- 추후 ComfyUI 기반 로컬 실행 모델로 변경

### Step 6: 배경음악 선택

- 사용자가 **직접 업로드**하거나 **유튜브 공개 음악 중 선택**

### Step 7: 비디오 합성

- MoviePy 기반 비디오 생성 API를 호출하여 **오디오, 이미지, 배경음악을 조합**
- 최종 영상은 로컬 저장소(D:\code\shorts_output\videos)에 저장

### Step 8: 다운로드

- 사용자가 완성된 비디오를 **다운로드** 가능

---

## 4. 기능 요구사항 (MVP 기준)

| **기능명**                    | **설명**                                                  | **개발 난이도** | **우선순위** |
| ----------------------------- | --------------------------------------------------------- | --------------- | ------------ |
| **텍스트 기반 스크립트 생성** | GPT-4 API를 활용해 주제 기반 영상 스크립트 자동 생성      | 보통            | 상           |
| **보이스오버 생성**           | ElevenLabs API를 활용하여 AI 보이스 생성                  | 보통            | 상           |
| **싱크 분석 및 자막 생성**    | OpenAI Whisper API를 활용해 싱크 분석 및 자막 생성        | 어려움          | 상           |
| **이미지 생성**               | 초기에는 FLUX AI, 이후 ComfyUI 기반 로컬 실행 모델로 변경 | 어려움          | 상           |
| **배경음악 선택**             | 유튜브 공개 음악 선택 or 사용자 업로드                    | 어려움          | 중           |
| **비디오 합성**               | MoviePy 기반으로 비디오 합성 및 편집                      | 어려움          | 상           |
| **파일 저장**                 | 로컬 저장소에 파일 저장 및 관리                           | 쉬움            | 상           |

### 2.1 추후 추가 기능 (MVP 이후 개발)

1. **사용자 인증 (Supabase Auth)**
2. **사용자별 데이터 저장 (Supabase Database)**
3. **SNS 공유 기능 (유튜브/틱톡 업로드 지원)**

---

## 5. 기술 스택

| **구분**        | **기술 스택**                                    |
| --------------- | ------------------------------------------------ |
| **프론트엔드**  | Next.js (API 호출 및 UI 구현)                    |
| **백엔드 API**  | FastAPI (각 AI 기능을 개별 API로 제공)           |
| **AI 모델**     | OpenAI API (GPT-4, Whisper), ElevenLabs, FLUX AI |
| **비디오 처리** | MoviePy (Python 기반 비디오 합성)                |

### 📌 **MVP 이후 추가 예정**

| **구분**        | **추후 추가 기술 스택**             |
| --------------- | ----------------------------------- |
| **사용자 인증** | Supabase Auth                       |
| **데이터 저장** | Supabase Database (PostgreSQL 기반) |

---

## 6. API 연동 정리

| **API**               | **사용 목적**                                                |
| --------------------- | ---------------------------------------------------------- |
| **스크립트 생성 API** | GPT-4 기반 텍스트 생성                                      |
| **보이스 생성 API**   | ElevenLabs API를 활용한 음성 생성                           |
| **싱크 분석 API**     | OpenAI Whisper 기반 오디오 싱크 분석                        |
| **이미지 생성 API**   | FLUX AI → 이후 ComfyUI 기반 변경                            |
| **비디오 합성 API**   | MoviePy 기반으로 비디오 생성 및 편집                        |
| **파일 저장 API**     | 로컬 저장소 관리 (D:\code\shorts_output)                    |
| **유튜브 음악 API**   | 공개 음악 검색 및 선택 지원 (예정)                          |

---

## 7. 기대 효과

1. **비디오 제작 시간 단축**: 기존 영상 편집보다 **90% 이상 시간 절약**
2. **비용 절감**: 영상 편집자를 고용하지 않고도 **자동으로 영상 생성**
3. **퀄리티 유지**: AI 기반 이미지 및 음성 사용으로 **고품질 콘텐츠 생성**
4. **API 분리로 확장성 증가**: 개별 기능을 독립적으로 확장 가능
5. **MVP 개발 후 로컬 AI 모델 적용 가능**: ComfyUI 기반 이미지 생성 전환 가능

---

## 8. 결론

**InstaVid는 Next.js + FastAPI 기반의 AI 자동 비디오 생성 플랫폼**이다.

- MVP에서는 **FLUX AI, ElevenLabs, OpenAI API를 활용해 로컬**로 구축
- 모든 파일은 로컬 저장소(D:\code\shorts_output)에 저장되어 관리
- **각 기능을 개별 API로 분리하여 유지보수성과 확장성을 극대화**

🚀 **1단계: MVP 출시 → 2단계: ComfyUI 기반 로컬 모델 적용 → 3단계: SNS 공유 기능 확장**
